(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{184:function(t,n,e){"use strict";e.d(n,"b",(function(){return o})),e.d(n,"c",(function(){return c})),e.d(n,"e",(function(){return l})),e.d(n,"a",(function(){return d})),e.d(n,"d",(function(){return f}));var r=e(62),o=function(data){return Object(r.b)({url:"/api/users/login",method:"post",data:data})},c=function(data){return Object(r.b)({url:"/api/users",method:"post",data:data})},l=function(data){return Object(r.b)({url:"/api/user",method:"put",data:data})},d=function(t){return Object(r.b)({url:"/api/profiles/".concat(t,"/follow"),method:"post"})},f=function(t){return Object(r.b)({url:"/api/profiles/".concat(t,"/follow"),method:"delete"})}},185:function(t,n,e){"use strict";e.d(n,"b",(function(){return o})),e.d(n,"e",(function(){return c})),e.d(n,"a",(function(){return l})),e.d(n,"c",(function(){return d})),e.d(n,"f",(function(){return f})),e.d(n,"d",(function(){return v}));var r=e(62),o=function(data){return Object(r.b)({url:"/api/articles",method:"get",params:data})},c=function(data){return Object(r.b)({url:"/api/tags",method:"get"})},l=function(data){return Object(r.b)({url:"/api/articles/feed",method:"get",params:data})},d=function(t){return Object(r.b)({url:"/api/articles/".concat(t,"/favorite"),method:"post"})},f=function(t){return Object(r.b)({url:"/api/articles/".concat(t,"/favorite"),method:"delete"})},v=function(t){return Object(r.b)({url:"/api/articles/".concat(t),method:"get"})}},187:function(t,n,e){"use strict";e.r(n);e(39);var r=e(3),o=e(185),c=e(184),l={name:"article-meta",props:{value:{type:Object,default:function(){return{author:{}}}}},data:function(){return{followHanding:!1,favouriteHanding:!1}},created:function(){console.log(this.value)},methods:{handleFollow:function(t){var n=this;this.followHanding||(this.followHanding=!0,t.following?Object(c.d)(t.username).then((function(e){t.following=!1,n.followHanding=!1})).catch((function(t){return console.log(t)})):Object(c.a)(t.username).then((function(e){t.following=!0,n.followHanding=!1})).catch((function(t){return console.log(t)})))},handleFavourite:function(article){var t=this;this.favouriteHanding||(this.favouriteHanding=!0,article.favorited?Object(o.f)(article.slug).then((function(n){article.favoritesCount--,article.favorited=!1,t.favouriteHanding=!1})).catch((function(t){return console.log(t)})):Object(o.c)(article.slug).then((function(n){article.favoritesCount++,article.favorited=!0,t.favouriteHanding=!1})).catch((function(t){return console.log(t)})))}}},d=e(29),f={name:"articleIndex",components:{ArticleMeta:Object(d.a)(l,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"article-meta"},[e("nuxt-link",{attrs:{to:{path:"profile/"+t.value.author.username}}},[e("img",{attrs:{src:t.value.author.image}})]),t._v(" "),e("div",{staticClass:"author"},[e("nuxt-link",{attrs:{to:{path:"profile/"+t.value.author.username}}},[t._v(t._s(t.value.author.username))]),t._v(" "),e("span",{staticClass:"date"},[t._v(t._s(t.value.createdAt))])],1),t._v(" "),e("button",{staticClass:"btn btn-sm btn-outline-secondary",class:{active:t.value.author.following},attrs:{disabled:t.followHanding},on:{click:function(n){return t.handleFollow(t.value.author)}}},[e("i",{staticClass:"ion-plus-round"}),t._v("\n     \n    Follow "+t._s(t.value.author.username)+" "),e("span",{staticClass:"counter"})]),t._v("\n    \n  "),e("button",{staticClass:"btn btn-sm btn-outline-primary",class:{active:t.value.favorited},attrs:{disabled:t.favouriteHanding},on:{click:function(n){return t.handleFavourite(t.value)}}},[e("i",{staticClass:"ion-heart"}),t._v("\n     \n    Favorite Post "),e("span",{staticClass:"counter"},[t._v("("+t._s(t.value.favoritesCount)+")")])])],1)}),[],!1,null,"5f79b0fd",null).exports},asyncData:function(t){return Object(r.a)(regeneratorRuntime.mark((function n(){var e,r,data;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=t.params,n.next=3,Object(o.d)(e.id);case 3:return r=n.sent,data=r.data,n.abrupt("return",{article:data.article});case 6:case"end":return n.stop()}}),n)})))()},data:function(){return{}},created:function(){},methods:{}},v=Object(d.a)(f,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"article-page"},[e("div",{staticClass:"banner"},[e("div",{staticClass:"container"},[e("h1",[t._v(t._s(t.article.title))]),t._v(" "),e("article-meta",{model:{value:t.article,callback:function(n){t.article=n},expression:"article"}})],1)]),t._v(" "),e("div",{staticClass:"container page"},[e("div",{staticClass:"row article-content"},[e("div",{staticClass:"col-md-12"},[t._v("\n        "+t._s(t.article.body)+"\n      ")])]),t._v(" "),e("hr"),t._v(" "),e("div",{staticClass:"article-actions"},[e("article-meta",{model:{value:t.article,callback:function(n){t.article=n},expression:"article"}})],1),t._v(" "),t._m(0)])])}),[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12 col-md-8 offset-md-2"},[e("form",{staticClass:"card comment-form"},[e("div",{staticClass:"card-block"},[e("textarea",{staticClass:"form-control",attrs:{placeholder:"Write a comment...",rows:"3"}})]),t._v(" "),e("div",{staticClass:"card-footer"},[e("img",{staticClass:"comment-author-img",attrs:{src:"http://i.imgur.com/Qr71crq.jpg"}}),t._v(" "),e("button",{staticClass:"btn btn-sm btn-primary"},[t._v("\n            Post Comment\n            ")])])]),t._v(" "),e("div",{staticClass:"card"},[e("div",{staticClass:"card-block"},[e("p",{staticClass:"card-text"},[t._v("With supporting text below as a natural lead-in to additional content.")])]),t._v(" "),e("div",{staticClass:"card-footer"},[e("a",{staticClass:"comment-author",attrs:{href:""}},[e("img",{staticClass:"comment-author-img",attrs:{src:"http://i.imgur.com/Qr71crq.jpg"}})]),t._v("\n             \n            "),e("a",{staticClass:"comment-author",attrs:{href:""}},[t._v("Jacob Schmidt")]),t._v(" "),e("span",{staticClass:"date-posted"},[t._v("Dec 29th")])])]),t._v(" "),e("div",{staticClass:"card"},[e("div",{staticClass:"card-block"},[e("p",{staticClass:"card-text"},[t._v("With supporting text below as a natural lead-in to additional content.")])]),t._v(" "),e("div",{staticClass:"card-footer"},[e("a",{staticClass:"comment-author",attrs:{href:""}},[e("img",{staticClass:"comment-author-img",attrs:{src:"http://i.imgur.com/Qr71crq.jpg"}})]),t._v("\n             \n            "),e("a",{staticClass:"comment-author",attrs:{href:""}},[t._v("Jacob Schmidt")]),t._v(" "),e("span",{staticClass:"date-posted"},[t._v("Dec 29th")]),t._v(" "),e("span",{staticClass:"mod-options"},[e("i",{staticClass:"ion-edit"}),t._v(" "),e("i",{staticClass:"ion-trash-a"})])])])])])}],!1,null,"37104fb2",null);n.default=v.exports}}]);